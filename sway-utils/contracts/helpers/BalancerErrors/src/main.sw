<<<<<<< HEAD
library BalancerErrors;
=======
library logExpMath;
>>>>>>> 08d5007 (added math libraries)

// Math
const ADD_OVERFLOW: u64 = 0;
const SUB_OVERFLOW: u64 = 1;
const SUB_UNDERFLOW: u64 = 2;
const MUL_OVERFLOW: u64 = 3;
const ZERO_DIVISION: u64 = 4;
const DIV_INTERNAL: u64 = 5;
const X_OUT_OF_BOUNDS: u64 = 6;
const Y_OUT_OF_BOUNDS: u64 = 7;
const PRODUCT_OUT_OF_BOUNDS: u64 = 8;
const INVALID_EXPONENT: u64 = 9;

// Input
const OUT_OF_BOUNDS: u64 = 100;
const UNSORTED_ARRAY: u64 = 101;
const UNSORTED_TOKENS: u64 = 102;
const INPUT_LENGTH_MISMATCH: u64 = 103;
const ZERO_TOKEN: u64 = 104;

// Shared pools
const MIN_TOKENS: u64 = 200;
const MAX_TOKENS: u64 = 201;
const MAX_SWAP_FEE_PERCENTAGE: u64 = 202;
const MIN_SWAP_FEE_PERCENTAGE: u64 = 203;
const MINIMUM_BPT: u64 = 204;
const CALLER_NOT_VAULT: u64 = 205;
const UNINITIALIZED: u64 = 206;
const BPT_IN_MAX_AMOUNT: u64 = 207;
const BPT_OUT_MIN_AMOUNT: u64 = 208;
const EXPIRED_PERMIT: u64 = 209;
const NOT_TWO_TOKENS: u64 = 210;
const DISABLED: u64 = 211;

// Pools
const MIN_AMP: u64 = 300;
const MAX_AMP: u64 = 301;
const MIN_WEIGHT: u64 = 302;
const MAX_STABLE_TOKENS: u64 = 303;
const MAX_IN_RATIO: u64 = 304;
const MAX_OUT_RATIO: u64 = 305;
const MIN_BPT_IN_FOR_TOKEN_OUT: u64 = 306;
const MAX_OUT_BPT_FOR_TOKEN_IN: u64 = 307;
const NORMALIZED_WEIGHT_INVARIANT: u64 = 308;
const INVALID_TOKEN: u64 = 309;
const UNHANDLED_JOIN_KIND: u64 = 310;
const ZERO_INVARIANT: u64 = 311;
const ORACLE_INVALID_SECONDS_QUERY: u64 = 312;
const ORACLE_NOT_INITIALIZED: u64 = 313;
const ORACLE_QUERY_TOO_OLD: u64 = 314;
const ORACLE_INVALID_INDEX: u64 = 315;
const ORACLE_BAD_SECS: u64 = 316;
const AMP_END_TIME_TOO_CLOSE: u64 = 317;
const AMP_ONGOING_UPDATE: u64 = 318;
const AMP_RATE_TOO_HIGH: u64 = 319;
const AMP_NO_ONGOING_UPDATE: u64 = 320;
const STABLE_INVARIANT_DIDNT_CONVERGE: u64 = 321;
const STABLE_GET_BALANCE_DIDNT_CONVERGE: u64 = 322;
const RELAYER_NOT_CONTRACT: u64 = 323;
const BASE_POOL_RELAYER_NOT_CALLED: u64 = 324;
const REBALANCING_RELAYER_REENTERED: u64 = 325;
const GRADUAL_UPDATE_TIME_TRAVEL: u64 = 326;
const SWAPS_DISABLED: u64 = 327;
const CALLER_IS_NOT_LBP_OWNER: u64 = 328;
const PRICE_RATE_OVERFLOW: u64 = 329;
const INVALID_JOIN_EXIT_KIND_WHILE_SWAPS_DISABLED: u64 = 330;
const WEIGHT_CHANGE_TOO_FAST: u64 = 331;
const LOWER_GREATER_THAN_UPPER_TARGET: u64 = 332;
const UPPER_TARGET_TOO_HIGH: u64 = 333;
const UNHANDLED_BY_LINEAR_POOL: u64 = 334;
const OUT_OF_TARGET_RANGE: u64 = 335;
const UNHANDLED_EXIT_KIND: u64 = 336;
const UNAUTHORIZED_EXIT: u64 = 337;
const MAX_MANAGEMENT_SWAP_FEE_PERCENTAGE: u64 = 338;
const UNHANDLED_BY_MANAGED_POOL: u64 = 339;
const UNHANDLED_BY_PHANTOM_POOL: u64 = 340;
const TOKEN_DOES_NOT_HAVE_RATE_PROVIDER: u64 = 341;
const INVALID_INITIALIZATION: u64 = 342;
const OUT_OF_NEW_TARGET_RANGE: u64 = 343;
const UNAUTHORIZED_OPERATION: u64 = 344;
const UNINITIALIZED_POOL_CONTROLLER: u64 = 345;
const SET_SWAP_FEE_DURING_FEE_CHANGE: u64 = 346;
const SET_SWAP_FEE_PENDING_FEE_CHANGE: u64 = 347;
const CHANGE_TOKENS_DURING_WEIGHT_CHANGE: u64 = 348;
const CHANGE_TOKENS_PENDING_WEIGHT_CHANGE: u64 = 349;
const MAX_WEIGHT: u64 = 350;
const UNAUTHORIZED_JOIN: u64 = 351;
const MAX_MANAGEMENT_AUM_FEE_PERCENTAGE: u64 = 352;

// Lib
const REENTRANCY: u64 = 400;
const SENDER_NOT_ALLOWED: u64 = 401;
const PAUSED: u64 = 402;
const PAUSE_WINDOW_EXPIRED: u64 = 403;
const MAX_PAUSE_WINDOW_DURATION: u64 = 404;
const MAX_BUFFER_PERIOD_DURATION: u64 = 405;
const INSUFFICIENT_BALANCE: u64 = 406;
const INSUFFICIENT_ALLOWANCE: u64 = 407;
const ERC20_TRANSFER_FROM_ZERO_ADDRESS: u64 = 408;
const ERC20_TRANSFER_TO_ZERO_ADDRESS: u64 = 409;
const ERC20_MINT_TO_ZERO_ADDRESS: u64 = 410;
const ERC20_BURN_FROM_ZERO_ADDRESS: u64 = 411;
const ERC20_APPROVE_FROM_ZERO_ADDRESS: u64 = 412;
const ERC20_APPROVE_TO_ZERO_ADDRESS: u64 = 413;
const ERC20_TRANSFER_EXCEEDS_ALLOWANCE: u64 = 414;
const ERC20_DECREASED_ALLOWANCE_BELOW_ZERO: u64 = 415;
const ERC20_TRANSFER_EXCEEDS_BALANCE: u64 = 416;
const ERC20_BURN_EXCEEDS_ALLOWANCE: u64 = 417;
const SAFE_ERC20_CALL_FAILED: u64 = 418;
const ADDRESS_INSUFFICIENT_BALANCE: u64 = 419;
const ADDRESS_CANNOT_SEND_VALUE: u64 = 420;
const SAFE_CAST_VALUE_CANT_FIT_INT256: u64 = 421;
const GRANT_SENDER_NOT_ADMIN: u64 = 422;
const REVOKE_SENDER_NOT_ADMIN: u64 = 423;
const RENOUNCE_SENDER_NOT_ALLOWED: u64 = 424;
const BUFFER_PERIOD_EXPIRED: u64 = 425;
const CALLER_IS_NOT_OWNER: u64 = 426;
const NEW_OWNER_IS_ZERO: u64 = 427;
const CODE_DEPLOYMENT_FAILED: u64 = 428;
const CALL_TO_NON_CONTRACT: u64 = 429;
const LOW_LEVEL_CALL_FAILED: u64 = 430;
const NOT_PAUSED: u64 = 431;
const ADDRESS_ALREADY_ALLOWLISTED: u64 = 432;
const ADDRESS_NOT_ALLOWLISTED: u64 = 433;
const ERC20_BURN_EXCEEDS_BALANCE: u64 = 434;
const INVALID_OPERATION: u64 = 435;
const CODEC_OVERFLOW: u64 = 436;
const IN_RECOVERY_MODE: u64 = 437;
const NOT_IN_RECOVERY_MODE: u64 = 438;

// Vault
const INVALID_POOL_ID: u64 = 500;
const CALLER_NOT_POOL: u64 = 501;
const SENDER_NOT_ASSET_MANAGER: u64 = 502;
const USER_DOESNT_ALLOW_RELAYER: u64 = 503;
const INVALID_SIGNATURE: u64 = 504;
const EXIT_BELOW_MIN: u64 = 505;
const JOIN_ABOVE_MAX: u64 = 506;
const SWAP_LIMIT: u64 = 507;
const SWAP_DEADLINE: u64 = 508;
const CANNOT_SWAP_SAME_TOKEN: u64 = 509;
const UNKNOWN_AMOUNT_IN_FIRST_SWAP: u64 = 510;
const MALCONSTRUCTED_MULTIHOP_SWAP: u64 = 511;
const INTERNAL_BALANCE_OVERFLOW: u64 = 512;
const INSUFFICIENT_INTERNAL_BALANCE: u64 = 513;
const INVALID_ETH_INTERNAL_BALANCE: u64 = 514;
const INVALID_POST_LOAN_BALANCE: u64 = 515;
const INSUFFICIENT_ETH: u64 = 516;
const UNALLOCATED_ETH: u64 = 517;
const ETH_TRANSFER: u64 = 518;
const CANNOT_USE_ETH_SENTINEL: u64 = 519;
const TOKENS_MISMATCH: u64 = 520;
const TOKEN_NOT_REGISTERED: u64 = 521;
const TOKEN_ALREADY_REGISTERED: u64 = 522;
const TOKENS_ALREADY_SET: u64 = 523;
const TOKENS_LENGTH_MUST_BE_2: u64 = 524;
const NONZERO_TOKEN_BALANCE: u64 = 525;
const BALANCE_TOTAL_OVERFLOW: u64 = 526;
const POOL_NO_TOKENS: u64 = 527;
const INSUFFICIENT_FLASH_LOAN_BALANCE: u64 = 528;

// Fees
const SWAP_FEE_PERCENTAGE_TOO_HIGH: u64 = 600;
const FLASH_LOAN_FEE_PERCENTAGE_TOO_HIGH: u64 = 601;
const INSUFFICIENT_FLASH_LOAN_FEE_AMOUNT: u64 = 602;
const AUM_FEE_PERCENTAGE_TOO_HIGH: u64 = 603;
